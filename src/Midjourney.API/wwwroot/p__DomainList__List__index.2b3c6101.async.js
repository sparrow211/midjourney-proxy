"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[523],{47389:function(T,f,e){var M=e(1413),m=e(67294),i=e(27363),u=e(91146),d=function(o,O){return m.createElement(u.Z,(0,M.Z)((0,M.Z)({},o),{},{ref:O,icon:i.Z}))},c=m.forwardRef(d);f.Z=c},51042:function(T,f,e){var M=e(1413),m=e(67294),i=e(42110),u=e(91146),d=function(o,O){return m.createElement(u.Z,(0,M.Z)((0,M.Z)({},o),{},{ref:O,icon:i.Z}))},c=m.forwardRef(d);f.Z=c},9829:function(T,f,e){e.r(f);var M=e(97857),m=e.n(M),i=e(15009),u=e.n(i),d=e(99289),c=e.n(d),D=e(5574),o=e.n(D),O=e(27986),h=e(84436),v=e(66927),s=e(47389),U=e(82061),Z=e(51042),I=e(90930),R=e(51967),W=e(94272),y=e(53025),p=e(16568),C=e(83622),A=e(72269),S=e(42075),x=e(86738),ee=e(4393),j=e(67294),a=e(85893),te=function(){var ae=(0,j.useState)(!1),w=o()(ae,2),ne=w[0],F=w[1],se=(0,j.useState)({}),$=o()(se,2),_e=$[0],V=$[1],oe=(0,j.useState)(""),z=o()(oe,2),re=z[0],ie=z[1],de=(0,j.useState)({}),N=o()(de,2),le=N[0],G=N[1],ue=(0,j.useState)(1e3),H=o()(ue,2),me=H[0],Ee=H[1],Me=y.Z.useForm(),ce=o()(Me,1),b=ce[0],_=(0,W.useIntl)(),fe=p.ZP.useNotification(),J=o()(fe,2),L=J[0],De=J[1],B=(0,j.useRef)(),K=function(){V({}),G({}),F(!1)},Pe=(0,j.useState)(!1),Q=o()(Pe,2),Oe=Q[0],X=Q[1],Y=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.ZP,{onClick:K,children:_.formatMessage({id:"pages.cancel"})},"back"),(0,a.jsx)(C.ZP,{type:"primary",loading:Oe,onClick:function(){return b.submit()},children:_.formatMessage({id:"pages.submit"})},"submit")]}),k=function(){var E=c()(u()().mark(function l(t){var r,P;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return X(!0),t.keywords||(t.keywords=[]),typeof t.keywords=="string"&&(t.keywords=t.keywords.split(",")),n.next=5,(0,v.Fj)(t);case 5:r=n.sent,r.success?(L.success({message:"success",description:r.message}),K(),(P=B.current)===null||P===void 0||P.reload()):L.error({message:"error",description:r.message}),X(!1);case 8:case"end":return n.stop()}},l)}));return function(t){return E.apply(this,arguments)}}(),q=function(l,t,r,P){b.resetFields(),ie(l),V(t),G(r),Ee(P),F(!0)},pe=function(){var E=c()(u()().mark(function l(t){var r,P;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,v.dj)(t);case 3:r=n.sent,r.success?(L.success({message:"success",description:_.formatMessage({id:"pages.task.deleteSuccess"})}),(P=B.current)===null||P===void 0||P.reload()):L.error({message:"error",description:r.message}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.prev=10,n.finish(10);case 12:case"end":return n.stop()}},l,null,[[0,7,10,12]])}));return function(t){return E.apply(this,arguments)}}(),ge=[{title:_.formatMessage({id:"pages.domain.name"}),dataIndex:"name",width:160,align:"left",fixed:"left"},{title:_.formatMessage({id:"pages.domain.description"}),dataIndex:"description",width:160,align:"left"},{title:_.formatMessage({id:"pages.domain.keywords"}),dataIndex:"keywords",width:120,align:"left",render:function(l,t){return(0,a.jsxs)("span",{children:[(t==null?void 0:t.keywords.length)||"0"," ",_.formatMessage({id:"pages.domain.keywords"})]})}},{title:_.formatMessage({id:"pages.domain.enable"}),dataIndex:"enable",width:80,showInfo:!1,hideInSearch:!0,align:"left",render:function(l,t){return(0,a.jsx)(A.Z,{disabled:!0,checked:t.enable})}},{title:_.formatMessage({id:"pages.domain.weight"}),dataIndex:"weight",width:80,align:"left",hideInSearch:!0},{title:_.formatMessage({id:"pages.domain.createTime"}),dataIndex:"createTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:_.formatMessage({id:"pages.domain.updateTime"}),dataIndex:"updateTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:_.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:140,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(l,t){return(0,a.jsxs)(S.Z,{children:[(0,a.jsx)(C.ZP,{icon:(0,a.jsx)(s.Z,{}),onClick:function(){return q(_.formatMessage({id:"pages.domain.update"}),(0,a.jsx)(h.Z,{form:b,record:t,onSubmit:k}),Y,1e3)}},"Update"),(0,a.jsx)(x.Z,{title:_.formatMessage({id:"pages.domain.delete"}),description:_.formatMessage({id:"pages.domain.deleteTitle"}),onConfirm:function(){return pe(t.id)},children:(0,a.jsx)(C.ZP,{danger:!0,icon:(0,a.jsx)(U.Z,{})})})]})}}];return(0,a.jsxs)(I._z,{children:[De,(0,a.jsx)(ee.Z,{children:(0,a.jsx)(R.Z,{columns:ge,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:B,toolBarRender:function(){return[(0,a.jsx)(C.ZP,{type:"primary",icon:(0,a.jsx)(Z.Z,{}),onClick:function(){return q(_.formatMessage({id:"pages.domain.add"}),(0,a.jsx)(h.Z,{form:b,record:{},onSubmit:k}),Y,1e3)},children:_.formatMessage({id:"pages.add"})},"primary")]},request:function(){var E=c()(u()().mark(function l(t){var r;return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return t.keywords&&typeof t.keywords=="string"&&(t.keywords=t.keywords.split(",")),g.next=3,(0,v.Kh)(m()(m()({},t),{},{pageNumber:t.current-1}));case 3:return r=g.sent,g.abrupt("return",{data:r.list,total:r.pagination.total,success:!0});case 5:case"end":return g.stop()}},l)}));return function(l){return E.apply(this,arguments)}}()})}),(0,a.jsx)(O.Z,{title:re,modalVisible:ne,hideModal:K,modalContent:_e,footer:le,modalWidth:me})]})};f.default=te},84436:function(T,f,e){var M=e(5574),m=e.n(M),i=e(53025),u=e(71230),d=e(15746),c=e(4393),D=e(55102),o=e(72269),O=e(37804),h=e(67294),v=e(94272),s=e(85893),U=function(I){var R=I.form,W=I.onSubmit,y=I.record,p=(0,v.useIntl)(),C=(0,h.useState)(!1),A=m()(C,2),S=A[0],x=A[1];return(0,h.useEffect)(function(){R.setFieldsValue(y),y.id=="admin"?x(!0):x(!1),console.log("record",y)}),(0,s.jsx)(i.Z,{form:R,labelAlign:"left",layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20},onFinish:W,children:(0,s.jsx)(u.Z,{gutter:16,children:(0,s.jsx)(d.Z,{span:24,children:(0,s.jsxs)(c.Z,{type:"inner",children:[(0,s.jsx)(i.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,s.jsx)(D.Z,{})}),(0,s.jsx)(i.Z.Item,{required:!0,label:p.formatMessage({id:"pages.domain.name"}),name:"name",children:(0,s.jsx)(D.Z,{})}),(0,s.jsx)(i.Z.Item,{label:p.formatMessage({id:"pages.domain.description"}),name:"description",children:(0,s.jsx)(D.Z,{})}),(0,s.jsx)(i.Z.Item,{label:p.formatMessage({id:"pages.domain.enable"}),name:"enable",children:(0,s.jsx)(o.Z,{})}),(0,s.jsx)(i.Z.Item,{label:p.formatMessage({id:"pages.domain.sort"}),name:"sort",children:(0,s.jsx)(O.Z,{})}),(0,s.jsx)(i.Z.Item,{label:p.formatMessage({id:"pages.domain.keywords"}),name:"keywords",tooltip:p.formatMessage({id:"pages.domain.keywords.tooltip"}),children:(0,s.jsx)(D.Z.TextArea,{placeholder:"cat, dog, fish",autoSize:{minRows:1,maxRows:20},allowClear:!0})})]})})})})};f.Z=U},27986:function(T,f,e){var M=e(28248),m=e(85893),i=function(d){var c=d.title,D=d.modalVisible,o=d.hideModal,O=d.modalContent,h=d.footer,v=d.modalWidth;return(0,m.jsx)(M.Z,{title:c,open:D,onCancel:o,footer:h,width:v,children:O})};f.Z=i}}]);
